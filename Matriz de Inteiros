#include<stdio.h>
#include<stdlib.h>

int validaMatriz(int qtdElementos, int qtdLinhas, int qtdColunas){
    FILE *arq;
    
    arq= fopen("entrada.txt","r");
    
    char ch;
    qtdLinhas=1;
    while((ch=fgetc(arq))!= EOF)
    {
        if(ch == '\n')
        {
            qtdLinhas++;
        }
        if(ch == ' ')
        {
            qtdElementos++;
        }
        
    }
    qtdElementos += qtdLinhas;
    if(qtdElementos > 0 && qtdLinhas > 0)
    {   
        float calculoColunas;
        calculoColunas = qtdElementos/qtdLinhas;
        if(calculoColunas != (int)calculoColunas)
        {
            printf("Matriz Inv√°lida!");
            return 0;
        }
        else
        {
            qtdColunas = (int)calculoColunas;    
        }
        if(qtdLinhas % 2 != 0)
        {
            printf("O numero de linhas da matriz deve ser par!");
            return 0;
        }
        if(qtdColunas % 2 != 0)
        {
            printf("O numero de colunas da matriz deve ser par!");
            return 0;
        }
    }

    fclose(arq);
    printf("%d/%d\/%d\n\n", qtdLinhas, qtdColunas, qtdElementos);
    return 1;
}


int main()
{
    int qtdElementos;
    int qtdLinhas;
    int qtdColunas;
    int validacao;

    validacao = validaMatriz(qtdElementos, qtdLinhas, qtdColunas);
    if(validacao == 0)
    {
        return 0;
    }
    
    printf("%d/%d\/%d\n\n", qtdLinhas, qtdColunas, qtdElementos);
    
    int matriz[3][3];
    int i,j;
    int a,b;
    
    FILE *arq;
    
    arq= fopen("entrada.txt","r");
    while(!feof(arq))
    {
        for(i=0;i<3;i++)
        {
            for(j=0;j<3;j++)
            {
                fscanf(arq,"%d",&matriz[i][j]);
            }
        }
    }

    for(a=0;a<3;a++)
    {
        for(b=0;b<3;b++)
        {
            printf("%d|",matriz[a][b]);
        }
        printf("\n");
    }

    fclose(arq);
    return 0;
}
